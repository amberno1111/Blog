# Abstract

最近遇到一些关于TCP连接数的问题，就是生产环境的机器上，发现很多机器的TCP连接总数都超过了3000。
于是花时间排查了下，这篇文章就做一下总结，记录一下排查TCP连接数过多的这种问题的思路。

# 查看连接数

首先当然是查看当前的TCP连接数了，有以下几个命令可以使用：
- `netstat -an`：可以查看哪些IP连接本机
- `netstat -nat | grep -i "80" | wc -l`：统计80端口的连接数
- `netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'`：这个命令比较强大，可以统计当前的并发请求数目极其TCP连接状态

首先就是使用了
































}}





